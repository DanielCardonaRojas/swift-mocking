{"metadata":{"externalID":"s:12SwiftMocking5until_7timeout12pollIntervalyAA11InteractionVyxxQp_QPq_q0_G_s8DurationVAItYaKRvzAA12AsynchronousR_r1_lF","symbolKind":"func","title":"until(_:timeout:pollInterval:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"until"},{"text":"<each ","kind":"text"},{"text":"Input","kind":"genericParameter"},{"kind":"text","text":", "},{"text":"Eff","kind":"genericParameter"},{"text":", ","kind":"text"},{"kind":"genericParameter","text":"Output"},{"text":">(","kind":"text"},{"kind":"typeIdentifier","text":"Interaction","preciseIdentifier":"s:12SwiftMocking11InteractionV"},{"kind":"text","text":"<repeat each "},{"text":"Input","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"Eff","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Output"},{"kind":"text","text":">, "},{"kind":"externalParam","text":"timeout"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Duration","preciseIdentifier":"s:s8DurationV"},{"kind":"text","text":", "},{"kind":"externalParam","text":"pollInterval"},{"kind":"text","text":": "},{"text":"Duration","kind":"typeIdentifier","preciseIdentifier":"s:s8DurationV"},{"kind":"text","text":") "},{"text":"async","kind":"keyword"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"modules":[{"name":"SwiftMocking"}],"role":"symbol","roleHeading":"Function"},"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"until","kind":"identifier"},{"text":"<each ","kind":"text"},{"text":"Input","kind":"genericParameter"},{"kind":"text","text":", "},{"text":"Eff","kind":"genericParameter"},{"kind":"text","text":", "},{"text":"Output","kind":"genericParameter"},{"text":">(","kind":"text"},{"kind":"externalParam","text":"_"},{"text":" ","kind":"text"},{"kind":"internalParam","text":"interaction"},{"kind":"text","text":": "},{"text":"Interaction","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Interaction","kind":"typeIdentifier","preciseIdentifier":"s:12SwiftMocking11InteractionV"},{"text":"<repeat each ","kind":"text"},{"kind":"typeIdentifier","text":"Input"},{"kind":"text","text":", "},{"text":"Eff","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"Output","kind":"typeIdentifier"},{"text":">, ","kind":"text"},{"text":"timeout","kind":"externalParam"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"Duration","preciseIdentifier":"s:s8DurationV"},{"text":" = .seconds(1), ","kind":"text"},{"text":"pollInterval","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Duration","kind":"typeIdentifier","preciseIdentifier":"s:s8DurationV"},{"text":" = .milliseconds(10)) ","kind":"text"},{"text":"async","kind":"keyword"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"keyword","text":"where"},{"kind":"text","text":" "},{"kind":"typeIdentifier","text":"Eff"},{"text":" : ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:12SwiftMocking12AsynchronousP","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Asynchronous","text":"Asynchronous"}],"platforms":["macOS"],"languages":["swift"]}]},{"kind":"parameters","parameters":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The interaction to observe."}]}],"name":"interaction"},{"name":"timeout","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Maximum duration to wait before throwing "},{"code":"UntilError.timeout","type":"codeVoice"},{"type":"text","text":"."}]}]},{"name":"pollInterval","content":[{"inlineContent":[{"type":"text","text":"Delay between polling the spy for new invocations."}],"type":"paragraph"}]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"text":"Discussion","type":"heading"},{"inlineContent":[{"type":"text","text":"Use this helper when the code under test triggers an "},{"type":"codeVoice","code":"async"},{"text":" or ","type":"text"},{"type":"codeVoice","code":"async throws"},{"text":" dependency in a detached task,","type":"text"},{"type":"text","text":" "},{"text":"and you need to wait for that interaction before asserting on it.","type":"text"}],"type":"paragraph"},{"code":["await until(mock.load(.any))","verify(mock.load(.any)).called()"],"syntax":null,"type":"codeListing"},{"type":"aside","style":"note","content":[{"inlineContent":[{"type":"text","text":""},{"code":"UntilError.timeout","type":"codeVoice"},{"text":" if the interaction is not observed within the timeout.","type":"text"}],"type":"paragraph"}],"name":"Throws"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/swiftmocking\/until(_:timeout:pollinterval:)"]}],"schemaVersion":{"minor":3,"major":0,"patch":0},"kind":"symbol","abstract":[{"text":"Waits until the provided asynchronous interaction has been recorded.","type":"text"}],"hierarchy":{"paths":[["doc:\/\/SwiftMocking\/documentation\/SwiftMocking"]]},"sections":[],"identifier":{"url":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/until(_:timeout:pollInterval:)","interfaceLanguage":"swift"},"references":{"doc://SwiftMocking/documentation/SwiftMocking/Asynchronous":{"type":"topic","url":"\/documentation\/swiftmocking\/asynchronous","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Asynchronous","abstract":[],"title":"Asynchronous","kind":"symbol","role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Asynchronous"}],"fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Asynchronous"}]},"doc://SwiftMocking/documentation/SwiftMocking/InvocationMatcher":{"title":"InvocationMatcher","role":"symbol","navigatorTitle":[{"text":"InvocationMatcher","kind":"identifier"}],"abstract":[{"text":"A type that matches a set of arguments against a set of ","type":"text"},{"identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/ArgMatcher","isActive":true,"type":"reference"},{"type":"text","text":"s."}],"url":"\/documentation\/swiftmocking\/invocationmatcher","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"InvocationMatcher","kind":"identifier"}],"kind":"symbol","type":"topic","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/InvocationMatcher"},"doc://SwiftMocking/documentation/SwiftMocking/Spy":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Spy"}],"abstract":[{"text":"A ","type":"text"},{"type":"reference","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Spy","isActive":true},{"type":"text","text":" is a type that captures calls to a single method, enabling inspections."}],"title":"Spy","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Spy","kind":"symbol","url":"\/documentation\/swiftmocking\/spy","role":"symbol","navigatorTitle":[{"text":"Spy","kind":"identifier"}],"type":"topic"},"doc://SwiftMocking/documentation/SwiftMocking/Interaction":{"abstract":[{"type":"text","text":"Represents a specific interaction with a mock object, combining an "},{"type":"reference","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/InvocationMatcher","isActive":true},{"type":"text","text":" and a "},{"isActive":true,"type":"reference","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Spy"},{"text":".","type":"text"}],"type":"topic","url":"\/documentation\/swiftmocking\/interaction","kind":"symbol","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/Interaction","role":"symbol","title":"Interaction","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Interaction"}],"navigatorTitle":[{"text":"Interaction","kind":"identifier"}]},"doc://SwiftMocking/documentation/SwiftMocking":{"title":"SwiftMocking","identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking","abstract":[],"role":"collection","kind":"symbol","type":"topic","url":"\/documentation\/swiftmocking"},"doc://SwiftMocking/documentation/SwiftMocking/until(_:timeout:pollInterval:)":{"abstract":[{"type":"text","text":"Waits until the provided asynchronous interaction has been recorded."}],"kind":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"until"},{"kind":"text","text":"<each "},{"kind":"genericParameter","text":"Input"},{"text":", ","kind":"text"},{"kind":"genericParameter","text":"Eff"},{"text":", ","kind":"text"},{"kind":"genericParameter","text":"Output"},{"kind":"text","text":">("},{"preciseIdentifier":"s:12SwiftMocking11InteractionV","text":"Interaction","kind":"typeIdentifier"},{"kind":"text","text":"<repeat each "},{"text":"Input","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"typeIdentifier","text":"Eff"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Output"},{"kind":"text","text":">, "},{"kind":"externalParam","text":"timeout"},{"kind":"text","text":": "},{"text":"Duration","preciseIdentifier":"s:s8DurationV","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"pollInterval","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:s8DurationV","text":"Duration"},{"kind":"text","text":") "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"text":"throws","kind":"keyword"}],"identifier":"doc:\/\/SwiftMocking\/documentation\/SwiftMocking\/until(_:timeout:pollInterval:)","url":"\/documentation\/swiftmocking\/until(_:timeout:pollinterval:)","title":"until(_:timeout:pollInterval:)","role":"symbol","type":"topic"}}}